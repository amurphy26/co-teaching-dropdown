<script>
  const model = document.getElementById("model");
  const placeholder = document.getElementById("placeholder");
  const title = document.getElementById("title");
  const desc = document.getElementById("desc");

  // Only target the co-teaching images (not every img tag on the page)
  const imgIds = [
    "img-teaming",
    "img-parallelteaching",
    "img-stationteaching",
    "img-alternateteaching",
    "img-oneteachoneassist",
    "img-oneteachoneobserve"
  ];

  const items = {
    teaming: {
      imgId: "img-teaming",
      title: "Teaming",
      desc: "Both teachers jointly plan and deliver instruction to the whole class."
    },
    parallelteaching: {
      imgId: "img-parallelteaching",
      title: "Parallel Teaching",
      desc: "The class is split into two groups and both teachers teach the same content simultaneously."
    },
    stationteaching: {
      imgId: "img-stationteaching",
      title: "Station Teaching",
      desc: "Students rotate through learning stations with teachers facilitating different stations."
    },
    alternateteaching: {
      imgId: "img-alternateteaching",
      title: "Alternative Teaching",
      desc: "One teacher works with a small group while the other teaches the larger group."
    },
    oneteachoneassist: {
      imgId: "img-oneteachoneassist",
      title: "One Teach, One Assist",
      desc: "One teacher leads instruction while the other circulates and provides support."
    },
    oneteachoneobserve: {
      imgId: "img-oneteachoneobserve",
      title: "One Teach, One Observe",
      desc: "One teacher instructs while the other observes student engagement and learning."
    }
  };

  // Hook error handlers so you can SEE what file isn't loading
  function attachImageErrorHandlers() {
    imgIds.forEach(id => {
      const el = document.getElementById(id);
      if (!el) {
        console.error(`Missing <img> with id="${id}"`);
        return;
      }
      el.addEventListener("error", () => {
        console.error(`Image failed to load: ${el.getAttribute("src")}`);
        placeholder.style.display = "block";
        title.textContent = "Image not found";
        desc.textContent =
          `Could not load: ${el.getAttribute("src")}. Check the filename (case-sensitive) in GitHub.`;
      });
    });
  }

  function hideAllTeachingImages() {
    imgIds.forEach(id => {
      const el = document.getElementById(id);
      if (el) el.style.display = "none";
    });
  }

  function show(key) {
    hideAllTeachingImages();

    if (!key || !items[key]) {
      placeholder.style.display = "block";
      title.textContent = "Select a model";
      desc.textContent = "The corresponding classroom layout will appear above.";
      return;
    }

    const chosen = items[key];
    const imgEl = document.getElementById(chosen.imgId);

    if (!imgEl) {
      console.error(`No image element found for imgId="${chosen.imgId}"`);
      placeholder.style.display = "block";
      title.textContent = "Setup issue";
      desc.textContent = `Could not find image element: ${chosen.imgId}`;
      return;
    }

    placeholder.style.display = "none";
    imgEl.style.display = "block";
    title.textContent = chosen.title;
    desc.textContent = chosen.desc;

    console.log(`Showing: ${key} -> ${imgEl.getAttribute("src")}`);
  }

  attachImageErrorHandlers();
  model.addEventListener("change", e => show(e.target.value));
  show("");
</script>
